<div
  [ngClass]="{
    'cell-container': true,
    'cell-container__active': isActiveArea$ | async
  }"
  (mouseenter)="isMouseOverSubject$.next(true)"
  (mouseleave)="isMouseOverSubject$.next(false)"
>
  <svg>
    <rect
      [attr.height]="innerCellSize"
      [attr.width]="innerCellSize"
      [attr.x]="cellPadding"
      [attr.y]="cellPadding"
      class="grid-cell"
      [attr.rx]="8"
    />

    <!-- Top bridge -->
    <rect
      *ngIf="(bridges$ | async)?.up"
      [attr.height]="cellPadding"
      [attr.width]="bridgeWidth"
      [attr.x]="cellPadding + (innerCellSize - bridgeWidth) / 2"
      [attr.y]="0"
    ></rect>

    <!-- Bottom bridge -->
    <rect
      *ngIf="(bridges$ | async)?.down"
      [attr.height]="cellPadding"
      [attr.width]="bridgeWidth"
      [attr.x]="cellPadding + (innerCellSize - bridgeWidth) / 2"
      [attr.y]="cellPadding + innerCellSize"
    ></rect>

    <!-- Left bridge -->
    <rect
      *ngIf="(bridges$ | async)?.left"
      [attr.height]="bridgeWidth"
      [attr.width]="cellPadding"
      [attr.x]="0"
      [attr.y]="cellPadding + (innerCellSize - bridgeWidth) / 2"
    ></rect>

    <!-- Right bridge -->
    <rect
      *ngIf="(bridges$ | async)?.right"
      [attr.height]="bridgeWidth"
      [attr.width]="cellPadding"
      [attr.x]="cellPadding + innerCellSize"
      [attr.y]="cellPadding + (innerCellSize - bridgeWidth) / 2"
    ></rect>
  </svg>
  <div class="area-sum" *ngIf="displayAreaSum$ | async as areaSum">
    {{ areaSum }}
  </div>
  <div class="cell-value">{{ solution$ | async }}</div>
</div>
